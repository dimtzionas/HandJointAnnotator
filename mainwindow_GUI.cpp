#include "mainwindow.h"
#include "ui_mainwindow.h"




void MainWindow::on_myButton_Update_PATH_clicked()
{

        try
        {

                        ////////////////////
                        update_BASE_Paths();
                        ////////////////////

                        QDir currDir = PATH_BASE_RGBD;

                        if (currDir.exists() == false)
                        {
                            colorize_Red();
                            return;
                        }

                        QString filterStr = QString( "*." + ui->myTextEdit_DATASET_ImageType->toPlainText() );

                        currDir.setNameFilters( QStringList()<<(filterStr) ); // "*.png"

                        QStringList    fileList = currDir.entryList();
                        FRAMES_TOTAL = fileList.size();

                        ui->myLabel_Img_TotalNumb->setText( QString::number(FRAMES_TOTAL) );

                        //////////////////////////////////
                        ui->myTabWidget->setEnabled(true);
                        //////////////////////////////////

                        ////////////////////////////////////////////////////////////////////////
                        FRAMES_ID_START = ui->myTextEdit_DATASET_StartID->toPlainText().toInt();
                        ////////////////////////////////////////////////////////////////////////

                        ////////////////////////////////////
                        update_CURR_THINGS(FRAMES_ID_START);
                        ////////////////////////////////////
                        isSequenceLoaded = true;
                        ////////////////////////

                        /////////////////////
                        changed_HandNumber();
                        /////////////////////

        }
        catch(...)
        {
                        colorize_Red();

                        ///////////////////////////////////
                        ui->myTabWidget->setEnabled(false);
                        ///////////////////////////////////
        }

}


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


void MainWindow::on_myButton_Next_clicked()   {   update_CURR_THINGS( currFrameID + ui->myTextEdit_FrameStep->toPlainText().toInt() );   }
void MainWindow::on_myButton_Prev_clicked()   {   update_CURR_THINGS( currFrameID - ui->myTextEdit_FrameStep->toPlainText().toInt() );   }


void MainWindow::on_myButton_UpdateFrameID_clicked()
{
    update_CURR_THINGS( ui->myTextEdit_FrameID->toPlainText().toInt() );
}


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


void MainWindow::on_myRadioButton_Annotate_clicked()   {   if (isSequenceLoaded == false) return;   update_CURR_THINGS(false);   }
void MainWindow::on_myRadioButton_Replay_clicked()     {   if (isSequenceLoaded == false) return;   update_CURR_THINGS(true );   }


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// update_CURR_AnnotationsOVERLAY();
// update_CURR_Display();

void MainWindow::on_myRadioButton_Image_RGB_clicked()        {   update_CURR_THINGS(false);   }
void MainWindow::on_myRadioButton_Image_RGBD_clicked()       {   update_CURR_THINGS(false);   }
void MainWindow::on_myRadioButton_Image_DepthVIZ_clicked()   {   update_CURR_THINGS(false);   }
void MainWindow::on_myRadioButton_Image_DepthREAL_clicked()  {   update_CURR_THINGS(false);   }


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


void MainWindow::colorize_Black()   {   ui->myLabel_IMG->setPixmap( QPixmap::fromImage( QImage("colorize_black.png") ) );   }
void MainWindow::colorize_Red()     {   ui->myLabel_IMG->setPixmap( QPixmap::fromImage( QImage("colorize_red.png"  ) ) );   }


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


void MainWindow::on_myButton_test_CURR_DEPTH_YML_clicked()   {   testtt_CURR_Depth();   }


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


void MainWindow::on_myButton_ANNO_Clear_ALL_clicked()    {   annotations_REMOVE_All();       update_CURR_Display();   }
void MainWindow::on_myButton_ANNO_Clear_LAST_clicked()   {   annotations_REMOVE_Last();      update_CURR_Display();   }
void MainWindow::on_myButton_ANNO_Save_clicked()         {   annotations_SAVE_CurrFrame();   }
void MainWindow::on_myButton_ANNO_Extract_clicked()      {   annotations_EXTRACT_All();      }
void MainWindow::on_myButton_ANNO_Load_clicked()         {   annotations_READ_CurrFrame();   update_CURR_Display();   }


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
